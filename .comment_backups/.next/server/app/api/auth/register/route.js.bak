"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/auth/register/route";
exports.ids = ["app/api/auth/register/route"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fregister%2Froute&page=%2Fapi%2Fauth%2Fregister%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fregister%2Froute.ts&appDir=D%3A%5CCoolyeah%5Csemester5%5CKeamanan%20Informasi%5CTugas3%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CCoolyeah%5Csemester5%5CKeamanan%20Informasi%5CTugas3&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fregister%2Froute&page=%2Fapi%2Fauth%2Fregister%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fregister%2Froute.ts&appDir=D%3A%5CCoolyeah%5Csemester5%5CKeamanan%20Informasi%5CTugas3%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CCoolyeah%5Csemester5%5CKeamanan%20Informasi%5CTugas3&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_Coolyeah_semester5_Keamanan_Informasi_Tugas3_app_api_auth_register_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/auth/register/route.ts */ \"(rsc)/./app/api/auth/register/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/auth/register/route\",\n        pathname: \"/api/auth/register\",\n        filename: \"route\",\n        bundlePath: \"app/api/auth/register/route\"\n    },\n    resolvedPagePath: \"D:\\\\Coolyeah\\\\semester5\\\\Keamanan Informasi\\\\Tugas3\\\\app\\\\api\\\\auth\\\\register\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_Coolyeah_semester5_Keamanan_Informasi_Tugas3_app_api_auth_register_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/auth/register/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhdXRoJTJGcmVnaXN0ZXIlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmF1dGglMkZyZWdpc3RlciUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmF1dGglMkZyZWdpc3RlciUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDQ29vbHllYWglNUNzZW1lc3RlcjUlNUNLZWFtYW5hbiUyMEluZm9ybWFzaSU1Q1R1Z2FzMyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9RCUzQSU1Q0Nvb2x5ZWFoJTVDc2VtZXN0ZXI1JTVDS2VhbWFuYW4lMjBJbmZvcm1hc2klNUNUdWdhczMmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ3VDO0FBQ3BIO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGRmLXNpZ25hdHVyZS1zeXN0ZW0vPzdhYTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiRDpcXFxcQ29vbHllYWhcXFxcc2VtZXN0ZXI1XFxcXEtlYW1hbmFuIEluZm9ybWFzaVxcXFxUdWdhczNcXFxcYXBwXFxcXGFwaVxcXFxhdXRoXFxcXHJlZ2lzdGVyXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hdXRoL3JlZ2lzdGVyL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYXV0aC9yZWdpc3RlclwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYXV0aC9yZWdpc3Rlci9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkQ6XFxcXENvb2x5ZWFoXFxcXHNlbWVzdGVyNVxcXFxLZWFtYW5hbiBJbmZvcm1hc2lcXFxcVHVnYXMzXFxcXGFwcFxcXFxhcGlcXFxcYXV0aFxcXFxyZWdpc3RlclxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvYXV0aC9yZWdpc3Rlci9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fregister%2Froute&page=%2Fapi%2Fauth%2Fregister%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fregister%2Froute.ts&appDir=D%3A%5CCoolyeah%5Csemester5%5CKeamanan%20Informasi%5CTugas3%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CCoolyeah%5Csemester5%5CKeamanan%20Informasi%5CTugas3&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/auth/register/route.ts":
/*!****************************************!*\
  !*** ./app/api/auth/register/route.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.ts\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./lib/auth.ts\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/types.js\");\n\n\n\n\nconst registerSchema = zod__WEBPACK_IMPORTED_MODULE_3__.object({\n    email: zod__WEBPACK_IMPORTED_MODULE_3__.string().email(),\n    password: zod__WEBPACK_IMPORTED_MODULE_3__.string().min(6),\n    name: zod__WEBPACK_IMPORTED_MODULE_3__.string().min(2),\n    role: zod__WEBPACK_IMPORTED_MODULE_3__[\"enum\"]([\n        \"organization\",\n        \"consultant\"\n    ]),\n    organizationName: zod__WEBPACK_IMPORTED_MODULE_3__.string().optional(),\n    position: zod__WEBPACK_IMPORTED_MODULE_3__.string().optional()\n});\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        // Validate input\n        const validation = registerSchema.safeParse(body);\n        if (!validation.success) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Invalid input\",\n                details: validation.error.errors\n            }, {\n                status: 400\n            });\n        }\n        const { email, password, name, role, organizationName, position } = validation.data;\n        // Check if user already exists\n        const existingUser = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.userDb.findByEmail(email);\n        if (existingUser) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Email already registered\"\n            }, {\n                status: 409\n            });\n        }\n        // Validate organization name for organization role\n        if (role === \"organization\" && !organizationName) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Organization name is required for organization accounts\"\n            }, {\n                status: 400\n            });\n        }\n        // Create user\n        const user = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.userDb.create({\n            email,\n            password,\n            name,\n            role,\n            organizationName,\n            position\n        });\n        // Generate token\n        const token = (0,_lib_auth__WEBPACK_IMPORTED_MODULE_2__.generateToken)(user);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            token,\n            user\n        }, {\n            status: 201\n        });\n    } catch (error) {\n        console.error(\"Register error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2F1dGgvcmVnaXN0ZXIvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBd0Q7QUFDdEI7QUFDUztBQUNuQjtBQUV4QixNQUFNSSxpQkFBaUJELHVDQUFRLENBQUM7SUFDOUJHLE9BQU9ILHVDQUFRLEdBQUdHLEtBQUs7SUFDdkJFLFVBQVVMLHVDQUFRLEdBQUdNLEdBQUcsQ0FBQztJQUN6QkMsTUFBTVAsdUNBQVEsR0FBR00sR0FBRyxDQUFDO0lBQ3JCRSxNQUFNUix3Q0FBTSxDQUFDO1FBQUM7UUFBZ0I7S0FBYTtJQUMzQ1Usa0JBQWtCVix1Q0FBUSxHQUFHVyxRQUFRO0lBQ3JDQyxVQUFVWix1Q0FBUSxHQUFHVyxRQUFRO0FBQy9CO0FBRU8sZUFBZUUsS0FBS0MsT0FBb0I7SUFDN0MsSUFBSTtRQUNGLE1BQU1DLE9BQU8sTUFBTUQsUUFBUUUsSUFBSTtRQUUvQixpQkFBaUI7UUFDakIsTUFBTUMsYUFBYWhCLGVBQWVpQixTQUFTLENBQUNIO1FBQzVDLElBQUksQ0FBQ0UsV0FBV0UsT0FBTyxFQUFFO1lBQ3ZCLE9BQU90QixxREFBWUEsQ0FBQ21CLElBQUksQ0FDdEI7Z0JBQUVJLE9BQU87Z0JBQWlCQyxTQUFTSixXQUFXRyxLQUFLLENBQUNFLE1BQU07WUFBQyxHQUMzRDtnQkFBRUMsUUFBUTtZQUFJO1FBRWxCO1FBRUEsTUFBTSxFQUFFcEIsS0FBSyxFQUFFRSxRQUFRLEVBQUVFLElBQUksRUFBRUMsSUFBSSxFQUFFRSxnQkFBZ0IsRUFBRUUsUUFBUSxFQUFFLEdBQy9ESyxXQUFXTyxJQUFJO1FBRWpCLCtCQUErQjtRQUMvQixNQUFNQyxlQUFlLE1BQU0zQiwyQ0FBTUEsQ0FBQzRCLFdBQVcsQ0FBQ3ZCO1FBQzlDLElBQUlzQixjQUFjO1lBQ2hCLE9BQU81QixxREFBWUEsQ0FBQ21CLElBQUksQ0FDdEI7Z0JBQUVJLE9BQU87WUFBMkIsR0FDcEM7Z0JBQUVHLFFBQVE7WUFBSTtRQUVsQjtRQUVBLG1EQUFtRDtRQUNuRCxJQUFJZixTQUFTLGtCQUFrQixDQUFDRSxrQkFBa0I7WUFDaEQsT0FBT2IscURBQVlBLENBQUNtQixJQUFJLENBQ3RCO2dCQUFFSSxPQUFPO1lBQTBELEdBQ25FO2dCQUFFRyxRQUFRO1lBQUk7UUFFbEI7UUFFQSxjQUFjO1FBQ2QsTUFBTUksT0FBTyxNQUFNN0IsMkNBQU1BLENBQUM4QixNQUFNLENBQUM7WUFDL0J6QjtZQUNBRTtZQUNBRTtZQUNBQztZQUNBRTtZQUNBRTtRQUNGO1FBRUEsaUJBQWlCO1FBQ2pCLE1BQU1pQixRQUFROUIsd0RBQWFBLENBQUM0QjtRQUU1QixPQUFPOUIscURBQVlBLENBQUNtQixJQUFJLENBQ3RCO1lBQ0VhO1lBQ0FGO1FBQ0YsR0FDQTtZQUFFSixRQUFRO1FBQUk7SUFFbEIsRUFBRSxPQUFPSCxPQUFPO1FBQ2RVLFFBQVFWLEtBQUssQ0FBQyxtQkFBbUJBO1FBQ2pDLE9BQU92QixxREFBWUEsQ0FBQ21CLElBQUksQ0FDdEI7WUFBRUksT0FBTztRQUF3QixHQUNqQztZQUFFRyxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3BkZi1zaWduYXR1cmUtc3lzdGVtLy4vYXBwL2FwaS9hdXRoL3JlZ2lzdGVyL3JvdXRlLnRzPzRhOGEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xyXG5pbXBvcnQgeyB1c2VyRGIgfSBmcm9tIFwiQC9saWIvZGJcIjtcclxuaW1wb3J0IHsgZ2VuZXJhdGVUb2tlbiB9IGZyb20gXCJAL2xpYi9hdXRoXCI7XHJcbmltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XHJcblxyXG5jb25zdCByZWdpc3RlclNjaGVtYSA9IHoub2JqZWN0KHtcclxuICBlbWFpbDogei5zdHJpbmcoKS5lbWFpbCgpLFxyXG4gIHBhc3N3b3JkOiB6LnN0cmluZygpLm1pbig2KSxcclxuICBuYW1lOiB6LnN0cmluZygpLm1pbigyKSxcclxuICByb2xlOiB6LmVudW0oW1wib3JnYW5pemF0aW9uXCIsIFwiY29uc3VsdGFudFwiXSksXHJcbiAgb3JnYW5pemF0aW9uTmFtZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxyXG4gIHBvc2l0aW9uOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXHJcbn0pO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xyXG5cclxuICAgIC8vIFZhbGlkYXRlIGlucHV0XHJcbiAgICBjb25zdCB2YWxpZGF0aW9uID0gcmVnaXN0ZXJTY2hlbWEuc2FmZVBhcnNlKGJvZHkpO1xyXG4gICAgaWYgKCF2YWxpZGF0aW9uLnN1Y2Nlc3MpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6IFwiSW52YWxpZCBpbnB1dFwiLCBkZXRhaWxzOiB2YWxpZGF0aW9uLmVycm9yLmVycm9ycyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZW1haWwsIHBhc3N3b3JkLCBuYW1lLCByb2xlLCBvcmdhbml6YXRpb25OYW1lLCBwb3NpdGlvbiB9ID1cclxuICAgICAgdmFsaWRhdGlvbi5kYXRhO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIHVzZXIgYWxyZWFkeSBleGlzdHNcclxuICAgIGNvbnN0IGV4aXN0aW5nVXNlciA9IGF3YWl0IHVzZXJEYi5maW5kQnlFbWFpbChlbWFpbCk7XHJcbiAgICBpZiAoZXhpc3RpbmdVc2VyKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiBcIkVtYWlsIGFscmVhZHkgcmVnaXN0ZXJlZFwiIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwOSB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVmFsaWRhdGUgb3JnYW5pemF0aW9uIG5hbWUgZm9yIG9yZ2FuaXphdGlvbiByb2xlXHJcbiAgICBpZiAocm9sZSA9PT0gXCJvcmdhbml6YXRpb25cIiAmJiAhb3JnYW5pemF0aW9uTmFtZSkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogXCJPcmdhbml6YXRpb24gbmFtZSBpcyByZXF1aXJlZCBmb3Igb3JnYW5pemF0aW9uIGFjY291bnRzXCIgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDcmVhdGUgdXNlclxyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IHVzZXJEYi5jcmVhdGUoe1xyXG4gICAgICBlbWFpbCxcclxuICAgICAgcGFzc3dvcmQsXHJcbiAgICAgIG5hbWUsXHJcbiAgICAgIHJvbGUsXHJcbiAgICAgIG9yZ2FuaXphdGlvbk5hbWUsXHJcbiAgICAgIHBvc2l0aW9uLFxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gR2VuZXJhdGUgdG9rZW5cclxuICAgIGNvbnN0IHRva2VuID0gZ2VuZXJhdGVUb2tlbih1c2VyKTtcclxuXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHtcclxuICAgICAgICB0b2tlbixcclxuICAgICAgICB1c2VyLFxyXG4gICAgICB9LFxyXG4gICAgICB7IHN0YXR1czogMjAxIH1cclxuICAgICk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJSZWdpc3RlciBlcnJvcjpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IGVycm9yOiBcIkludGVybmFsIHNlcnZlciBlcnJvclwiIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInVzZXJEYiIsImdlbmVyYXRlVG9rZW4iLCJ6IiwicmVnaXN0ZXJTY2hlbWEiLCJvYmplY3QiLCJlbWFpbCIsInN0cmluZyIsInBhc3N3b3JkIiwibWluIiwibmFtZSIsInJvbGUiLCJlbnVtIiwib3JnYW5pemF0aW9uTmFtZSIsIm9wdGlvbmFsIiwicG9zaXRpb24iLCJQT1NUIiwicmVxdWVzdCIsImJvZHkiLCJqc29uIiwidmFsaWRhdGlvbiIsInNhZmVQYXJzZSIsInN1Y2Nlc3MiLCJlcnJvciIsImRldGFpbHMiLCJlcnJvcnMiLCJzdGF0dXMiLCJkYXRhIiwiZXhpc3RpbmdVc2VyIiwiZmluZEJ5RW1haWwiLCJ1c2VyIiwiY3JlYXRlIiwidG9rZW4iLCJjb25zb2xlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/auth/register/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth.ts":
/*!*********************!*\
  !*** ./lib/auth.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   extractTokenFromHeader: () => (/* binding */ extractTokenFromHeader),\n/* harmony export */   generateToken: () => (/* binding */ generateToken),\n/* harmony export */   getUserFromRequest: () => (/* binding */ getUserFromRequest),\n/* harmony export */   verifyToken: () => (/* binding */ verifyToken)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"(rsc)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__);\n\nconst JWT_SECRET = process.env.JWT_SECRET || \"your-secret-key-change-in-production\";\nconst JWT_EXPIRES_IN = \"7d\";\n/**\r\n * Generate JWT token for user\r\n */ function generateToken(user) {\n    const payload = {\n        userId: user.id,\n        email: user.email,\n        role: user.role\n    };\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().sign(payload, JWT_SECRET, {\n        expiresIn: JWT_EXPIRES_IN\n    });\n}\n/**\r\n * Verify and decode JWT token\r\n */ function verifyToken(token) {\n    try {\n        const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().verify(token, JWT_SECRET);\n        return decoded;\n    } catch (error) {\n        return null;\n    }\n}\n/**\r\n * Extract token from Authorization header\r\n */ function extractTokenFromHeader(authHeader) {\n    if (!authHeader) return null;\n    const parts = authHeader.split(\" \");\n    if (parts.length !== 2 || parts[0] !== \"Bearer\") {\n        return null;\n    }\n    return parts[1];\n}\n/**\r\n * Get user from request (Next.js API route)\r\n */ async function getUserFromRequest(request) {\n    const authHeader = request.headers.get(\"Authorization\");\n    const token = extractTokenFromHeader(authHeader);\n    if (!token) return null;\n    return verifyToken(token);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXV0aC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBK0I7QUFHL0IsTUFBTUMsYUFDSkMsUUFBUUMsR0FBRyxDQUFDRixVQUFVLElBQUk7QUFDNUIsTUFBTUcsaUJBQWlCO0FBUXZCOztDQUVDLEdBQ00sU0FBU0MsY0FBY0MsSUFBVTtJQUN0QyxNQUFNQyxVQUFzQjtRQUMxQkMsUUFBUUYsS0FBS0csRUFBRTtRQUNmQyxPQUFPSixLQUFLSSxLQUFLO1FBQ2pCQyxNQUFNTCxLQUFLSyxJQUFJO0lBQ2pCO0lBRUEsT0FBT1gsd0RBQVEsQ0FBQ08sU0FBU04sWUFBWTtRQUNuQ1ksV0FBV1Q7SUFDYjtBQUNGO0FBRUE7O0NBRUMsR0FDTSxTQUFTVSxZQUFZQyxLQUFhO0lBQ3ZDLElBQUk7UUFDRixNQUFNQyxVQUFVaEIsMERBQVUsQ0FBQ2UsT0FBT2Q7UUFDbEMsT0FBT2U7SUFDVCxFQUFFLE9BQU9FLE9BQU87UUFDZCxPQUFPO0lBQ1Q7QUFDRjtBQUVBOztDQUVDLEdBQ00sU0FBU0MsdUJBQ2RDLFVBQXlCO0lBRXpCLElBQUksQ0FBQ0EsWUFBWSxPQUFPO0lBRXhCLE1BQU1DLFFBQVFELFdBQVdFLEtBQUssQ0FBQztJQUMvQixJQUFJRCxNQUFNRSxNQUFNLEtBQUssS0FBS0YsS0FBSyxDQUFDLEVBQUUsS0FBSyxVQUFVO1FBQy9DLE9BQU87SUFDVDtJQUVBLE9BQU9BLEtBQUssQ0FBQyxFQUFFO0FBQ2pCO0FBRUE7O0NBRUMsR0FDTSxlQUFlRyxtQkFDcEJDLE9BQWdCO0lBRWhCLE1BQU1MLGFBQWFLLFFBQVFDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDO0lBQ3ZDLE1BQU1aLFFBQVFJLHVCQUF1QkM7SUFFckMsSUFBSSxDQUFDTCxPQUFPLE9BQU87SUFFbkIsT0FBT0QsWUFBWUM7QUFDckIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wZGYtc2lnbmF0dXJlLXN5c3RlbS8uL2xpYi9hdXRoLnRzP2JmN2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGp3dCBmcm9tIFwianNvbndlYnRva2VuXCI7XHJcbmltcG9ydCB7IFVzZXIgfSBmcm9tIFwiQC90eXBlc1wiO1xyXG5cclxuY29uc3QgSldUX1NFQ1JFVCA9XHJcbiAgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCB8fCBcInlvdXItc2VjcmV0LWtleS1jaGFuZ2UtaW4tcHJvZHVjdGlvblwiO1xyXG5jb25zdCBKV1RfRVhQSVJFU19JTiA9IFwiN2RcIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSldUUGF5bG9hZCB7XHJcbiAgdXNlcklkOiBzdHJpbmc7XHJcbiAgZW1haWw6IHN0cmluZztcclxuICByb2xlOiBcIm9yZ2FuaXphdGlvblwiIHwgXCJjb25zdWx0YW50XCI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZW5lcmF0ZSBKV1QgdG9rZW4gZm9yIHVzZXJcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVRva2VuKHVzZXI6IFVzZXIpOiBzdHJpbmcge1xyXG4gIGNvbnN0IHBheWxvYWQ6IEpXVFBheWxvYWQgPSB7XHJcbiAgICB1c2VySWQ6IHVzZXIuaWQsXHJcbiAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgIHJvbGU6IHVzZXIucm9sZSxcclxuICB9O1xyXG5cclxuICByZXR1cm4gand0LnNpZ24ocGF5bG9hZCwgSldUX1NFQ1JFVCwge1xyXG4gICAgZXhwaXJlc0luOiBKV1RfRVhQSVJFU19JTixcclxuICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFZlcmlmeSBhbmQgZGVjb2RlIEpXVCB0b2tlblxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHZlcmlmeVRva2VuKHRva2VuOiBzdHJpbmcpOiBKV1RQYXlsb2FkIHwgbnVsbCB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRlY29kZWQgPSBqd3QudmVyaWZ5KHRva2VuLCBKV1RfU0VDUkVUKSBhcyBKV1RQYXlsb2FkO1xyXG4gICAgcmV0dXJuIGRlY29kZWQ7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEV4dHJhY3QgdG9rZW4gZnJvbSBBdXRob3JpemF0aW9uIGhlYWRlclxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RUb2tlbkZyb21IZWFkZXIoXHJcbiAgYXV0aEhlYWRlcjogc3RyaW5nIHwgbnVsbFxyXG4pOiBzdHJpbmcgfCBudWxsIHtcclxuICBpZiAoIWF1dGhIZWFkZXIpIHJldHVybiBudWxsO1xyXG5cclxuICBjb25zdCBwYXJ0cyA9IGF1dGhIZWFkZXIuc3BsaXQoXCIgXCIpO1xyXG4gIGlmIChwYXJ0cy5sZW5ndGggIT09IDIgfHwgcGFydHNbMF0gIT09IFwiQmVhcmVyXCIpIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHBhcnRzWzFdO1xyXG59XHJcblxyXG4vKipcclxuICogR2V0IHVzZXIgZnJvbSByZXF1ZXN0IChOZXh0LmpzIEFQSSByb3V0ZSlcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VyRnJvbVJlcXVlc3QoXHJcbiAgcmVxdWVzdDogUmVxdWVzdFxyXG4pOiBQcm9taXNlPEpXVFBheWxvYWQgfCBudWxsPiB7XHJcbiAgY29uc3QgYXV0aEhlYWRlciA9IHJlcXVlc3QuaGVhZGVycy5nZXQoXCJBdXRob3JpemF0aW9uXCIpO1xyXG4gIGNvbnN0IHRva2VuID0gZXh0cmFjdFRva2VuRnJvbUhlYWRlcihhdXRoSGVhZGVyKTtcclxuXHJcbiAgaWYgKCF0b2tlbikgcmV0dXJuIG51bGw7XHJcblxyXG4gIHJldHVybiB2ZXJpZnlUb2tlbih0b2tlbik7XHJcbn1cclxuIl0sIm5hbWVzIjpbImp3dCIsIkpXVF9TRUNSRVQiLCJwcm9jZXNzIiwiZW52IiwiSldUX0VYUElSRVNfSU4iLCJnZW5lcmF0ZVRva2VuIiwidXNlciIsInBheWxvYWQiLCJ1c2VySWQiLCJpZCIsImVtYWlsIiwicm9sZSIsInNpZ24iLCJleHBpcmVzSW4iLCJ2ZXJpZnlUb2tlbiIsInRva2VuIiwiZGVjb2RlZCIsInZlcmlmeSIsImVycm9yIiwiZXh0cmFjdFRva2VuRnJvbUhlYWRlciIsImF1dGhIZWFkZXIiLCJwYXJ0cyIsInNwbGl0IiwibGVuZ3RoIiwiZ2V0VXNlckZyb21SZXF1ZXN0IiwicmVxdWVzdCIsImhlYWRlcnMiLCJnZXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db.ts":
/*!*******************!*\
  !*** ./lib/db.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getDatabase: () => (/* binding */ getDatabase),\n/* harmony export */   pdfDb: () => (/* binding */ pdfDb),\n/* harmony export */   userDb: () => (/* binding */ userDb),\n/* harmony export */   userKeysDb: () => (/* binding */ userKeysDb)\n/* harmony export */ });\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/mongodb */ \"(rsc)/./lib/mongodb.ts\");\n/* harmony import */ var _models_User__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/models/User */ \"(rsc)/./models/User.ts\");\n/* harmony import */ var _models_UserKeys__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/models/UserKeys */ \"(rsc)/./models/UserKeys.ts\");\n/* harmony import */ var _models_PDF__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/models/PDF */ \"(rsc)/./models/PDF.ts\");\n// (fungsi updateProfile dipindahkan ke dalam objek userDb di bawah)\n\n\n\n\n\n// User operations\nconst userDb = {\n    async updateProfile (userId, data) {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_1__.dbConnect)();\n        const userDoc = await _models_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findByIdAndUpdate(userId, {\n            ...data.name !== undefined ? {\n                name: data.name\n            } : {},\n            ...data.organizationName !== undefined ? {\n                organizationName: data.organizationName\n            } : {},\n            ...data.position !== undefined ? {\n                position: data.position\n            } : {}\n        }, {\n            new: true\n        });\n        if (!userDoc) return null;\n        // @ts-ignore\n        const { passwordHash: _, ...user } = userDoc.toObject();\n        return {\n            ...user,\n            id: userDoc._id.toString()\n        };\n    },\n    async create (userData) {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_1__.dbConnect)();\n        const passwordHash = await bcryptjs__WEBPACK_IMPORTED_MODULE_0___default().hash(userData.password, 10);\n        const userDoc = await _models_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].create({\n            email: userData.email,\n            passwordHash,\n            name: userData.name,\n            role: userData.role,\n            organizationName: userData.organizationName,\n            position: userData.position,\n            createdAt: new Date(),\n            hasKeys: false\n        });\n        // @ts-ignore\n        const { passwordHash: _, ...user } = userDoc.toObject();\n        return {\n            ...user,\n            id: userDoc._id.toString()\n        };\n    },\n    async findByEmail (email) {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_1__.dbConnect)();\n        const userDoc = await _models_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n            email\n        });\n        if (!userDoc) return null;\n        // @ts-ignore\n        const { passwordHash: _, ...user } = userDoc.toObject();\n        return {\n            ...user,\n            id: userDoc._id.toString()\n        };\n    },\n    async findById (id) {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_1__.dbConnect)();\n        const userDoc = await _models_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findById(id);\n        if (!userDoc) return null;\n        // @ts-ignore\n        const { passwordHash: _, ...user } = userDoc.toObject();\n        return {\n            ...user,\n            id: userDoc._id.toString()\n        };\n    },\n    async updateHasKeys (userId, hasKeys) {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_1__.dbConnect)();\n        await _models_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findByIdAndUpdate(userId, {\n            hasKeys\n        });\n    },\n    async verifyPassword (email, password) {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_1__.dbConnect)();\n        const userDoc = await _models_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n            email\n        });\n        if (!userDoc) return null;\n        const isValid = await bcryptjs__WEBPACK_IMPORTED_MODULE_0___default().compare(password, userDoc.passwordHash);\n        if (!isValid) return null;\n        // @ts-ignore\n        const { passwordHash: _, ...user } = userDoc.toObject();\n        return {\n            ...user,\n            id: userDoc._id.toString()\n        };\n    }\n};\n// User keys operations\nconst userKeysDb = {\n    async create (keysData) {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_1__.dbConnect)();\n        const keys = await _models_UserKeys__WEBPACK_IMPORTED_MODULE_3__[\"default\"].create({\n            ...keysData,\n            createdAt: new Date()\n        });\n        await userDb.updateHasKeys(keysData.userId, true);\n        return keys.toObject();\n    },\n    async findByUserId (userId) {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_1__.dbConnect)();\n        const keys = await _models_UserKeys__WEBPACK_IMPORTED_MODULE_3__[\"default\"].findOne({\n            userId\n        });\n        return keys ? keys.toObject() : null;\n    },\n    async update (userId, keysData) {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_1__.dbConnect)();\n        await _models_UserKeys__WEBPACK_IMPORTED_MODULE_3__[\"default\"].findOneAndUpdate({\n            userId\n        }, keysData);\n    },\n    async delete (userId) {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_1__.dbConnect)();\n        await _models_UserKeys__WEBPACK_IMPORTED_MODULE_3__[\"default\"].deleteOne({\n            userId\n        });\n        await userDb.updateHasKeys(userId, false);\n    }\n};\n// PDF operations\nconst pdfDb = {\n    async create (pdfData) {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_1__.dbConnect)();\n        const pdf = await _models_PDF__WEBPACK_IMPORTED_MODULE_4__[\"default\"].create({\n            ...pdfData,\n            createdAt: new Date()\n        });\n        return pdf.toObject();\n    },\n    async findById (id) {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_1__.dbConnect)();\n        const pdf = await _models_PDF__WEBPACK_IMPORTED_MODULE_4__[\"default\"].findById(id);\n        return pdf ? pdf.toObject() : null;\n    },\n    async findByUserId (userId) {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_1__.dbConnect)();\n        const pdfs = await _models_PDF__WEBPACK_IMPORTED_MODULE_4__[\"default\"].find({\n            userId\n        });\n        return pdfs.map((pdf)=>pdf.toObject());\n    },\n    async update (id, data) {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_1__.dbConnect)();\n        await _models_PDF__WEBPACK_IMPORTED_MODULE_4__[\"default\"].findByIdAndUpdate(id, data);\n    }\n};\n// Export for testing/debugging (optional, now returns nothing)\nconst getDatabase = ()=>({});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBLG9FQUFvRTtBQUN0QztBQUNZO0FBQ087QUFDWTtBQUNmO0FBRTlDLGtCQUFrQjtBQUNYLE1BQU1LLFNBQVM7SUFDcEIsTUFBTUMsZUFDSkMsTUFBYyxFQUNkQyxJQUFxRTtRQUVyRSxNQUFNUCx1REFBU0E7UUFDZixNQUFNUSxVQUFVLE1BQU1QLG9EQUFTQSxDQUFDUSxpQkFBaUIsQ0FDL0NILFFBQ0E7WUFDRSxHQUFJQyxLQUFLRyxJQUFJLEtBQUtDLFlBQVk7Z0JBQUVELE1BQU1ILEtBQUtHLElBQUk7WUFBQyxJQUFJLENBQUMsQ0FBQztZQUN0RCxHQUFJSCxLQUFLSyxnQkFBZ0IsS0FBS0QsWUFDMUI7Z0JBQUVDLGtCQUFrQkwsS0FBS0ssZ0JBQWdCO1lBQUMsSUFDMUMsQ0FBQyxDQUFDO1lBQ04sR0FBSUwsS0FBS00sUUFBUSxLQUFLRixZQUFZO2dCQUFFRSxVQUFVTixLQUFLTSxRQUFRO1lBQUMsSUFBSSxDQUFDLENBQUM7UUFDcEUsR0FDQTtZQUFFQyxLQUFLO1FBQUs7UUFFZCxJQUFJLENBQUNOLFNBQVMsT0FBTztRQUNyQixhQUFhO1FBQ2IsTUFBTSxFQUFFTyxjQUFjQyxDQUFDLEVBQUUsR0FBR0MsTUFBTSxHQUFHVCxRQUFRVSxRQUFRO1FBQ3JELE9BQU87WUFBRSxHQUFHRCxJQUFJO1lBQUVFLElBQUlYLFFBQVFZLEdBQUcsQ0FBQ0MsUUFBUTtRQUFHO0lBQy9DO0lBQ0EsTUFBTUMsUUFBT0MsUUFPWjtRQUNDLE1BQU12Qix1REFBU0E7UUFDZixNQUFNZSxlQUFlLE1BQU1oQixvREFBVyxDQUFDd0IsU0FBU0UsUUFBUSxFQUFFO1FBQzFELE1BQU1qQixVQUFVLE1BQU1QLG9EQUFTQSxDQUFDcUIsTUFBTSxDQUFDO1lBQ3JDSSxPQUFPSCxTQUFTRyxLQUFLO1lBQ3JCWDtZQUNBTCxNQUFNYSxTQUFTYixJQUFJO1lBQ25CaUIsTUFBTUosU0FBU0ksSUFBSTtZQUNuQmYsa0JBQWtCVyxTQUFTWCxnQkFBZ0I7WUFDM0NDLFVBQVVVLFNBQVNWLFFBQVE7WUFDM0JlLFdBQVcsSUFBSUM7WUFDZkMsU0FBUztRQUNYO1FBQ0EsYUFBYTtRQUNiLE1BQU0sRUFBRWYsY0FBY0MsQ0FBQyxFQUFFLEdBQUdDLE1BQU0sR0FBR1QsUUFBUVUsUUFBUTtRQUNyRCxPQUFPO1lBQUUsR0FBR0QsSUFBSTtZQUFFRSxJQUFJWCxRQUFRWSxHQUFHLENBQUNDLFFBQVE7UUFBRztJQUMvQztJQUVBLE1BQU1VLGFBQVlMLEtBQWE7UUFDN0IsTUFBTTFCLHVEQUFTQTtRQUNmLE1BQU1RLFVBQVUsTUFBTVAsb0RBQVNBLENBQUMrQixPQUFPLENBQUM7WUFBRU47UUFBTTtRQUNoRCxJQUFJLENBQUNsQixTQUFTLE9BQU87UUFDckIsYUFBYTtRQUNiLE1BQU0sRUFBRU8sY0FBY0MsQ0FBQyxFQUFFLEdBQUdDLE1BQU0sR0FBR1QsUUFBUVUsUUFBUTtRQUNyRCxPQUFPO1lBQUUsR0FBR0QsSUFBSTtZQUFFRSxJQUFJWCxRQUFRWSxHQUFHLENBQUNDLFFBQVE7UUFBRztJQUMvQztJQUVBLE1BQU1ZLFVBQVNkLEVBQVU7UUFDdkIsTUFBTW5CLHVEQUFTQTtRQUNmLE1BQU1RLFVBQVUsTUFBTVAsb0RBQVNBLENBQUNnQyxRQUFRLENBQUNkO1FBQ3pDLElBQUksQ0FBQ1gsU0FBUyxPQUFPO1FBQ3JCLGFBQWE7UUFDYixNQUFNLEVBQUVPLGNBQWNDLENBQUMsRUFBRSxHQUFHQyxNQUFNLEdBQUdULFFBQVFVLFFBQVE7UUFDckQsT0FBTztZQUFFLEdBQUdELElBQUk7WUFBRUUsSUFBSVgsUUFBUVksR0FBRyxDQUFDQyxRQUFRO1FBQUc7SUFDL0M7SUFFQSxNQUFNYSxlQUFjNUIsTUFBYyxFQUFFd0IsT0FBZ0I7UUFDbEQsTUFBTTlCLHVEQUFTQTtRQUNmLE1BQU1DLG9EQUFTQSxDQUFDUSxpQkFBaUIsQ0FBQ0gsUUFBUTtZQUFFd0I7UUFBUTtJQUN0RDtJQUVBLE1BQU1LLGdCQUNKVCxLQUFhLEVBQ2JELFFBQWdCO1FBRWhCLE1BQU16Qix1REFBU0E7UUFDZixNQUFNUSxVQUFVLE1BQU1QLG9EQUFTQSxDQUFDK0IsT0FBTyxDQUFDO1lBQUVOO1FBQU07UUFDaEQsSUFBSSxDQUFDbEIsU0FBUyxPQUFPO1FBQ3JCLE1BQU00QixVQUFVLE1BQU1yQyx1REFBYyxDQUFDMEIsVUFBVWpCLFFBQVFPLFlBQVk7UUFDbkUsSUFBSSxDQUFDcUIsU0FBUyxPQUFPO1FBQ3JCLGFBQWE7UUFDYixNQUFNLEVBQUVyQixjQUFjQyxDQUFDLEVBQUUsR0FBR0MsTUFBTSxHQUFHVCxRQUFRVSxRQUFRO1FBQ3JELE9BQU87WUFBRSxHQUFHRCxJQUFJO1lBQUVFLElBQUlYLFFBQVFZLEdBQUcsQ0FBQ0MsUUFBUTtRQUFHO0lBQy9DO0FBQ0YsRUFBRTtBQUVGLHVCQUF1QjtBQUNoQixNQUFNaUIsYUFBYTtJQUN4QixNQUFNaEIsUUFBT2lCLFFBS1o7UUFDQyxNQUFNdkMsdURBQVNBO1FBQ2YsTUFBTXdDLE9BQU8sTUFBTXRDLHdEQUFhQSxDQUFDb0IsTUFBTSxDQUFDO1lBQ3RDLEdBQUdpQixRQUFRO1lBQ1hYLFdBQVcsSUFBSUM7UUFDakI7UUFDQSxNQUFNekIsT0FBTzhCLGFBQWEsQ0FBQ0ssU0FBU2pDLE1BQU0sRUFBRTtRQUM1QyxPQUFPa0MsS0FBS3RCLFFBQVE7SUFDdEI7SUFFQSxNQUFNdUIsY0FBYW5DLE1BQWM7UUFDL0IsTUFBTU4sdURBQVNBO1FBQ2YsTUFBTXdDLE9BQU8sTUFBTXRDLHdEQUFhQSxDQUFDOEIsT0FBTyxDQUFDO1lBQUUxQjtRQUFPO1FBQ2xELE9BQU9rQyxPQUFPQSxLQUFLdEIsUUFBUSxLQUFLO0lBQ2xDO0lBRUEsTUFBTXdCLFFBQU9wQyxNQUFjLEVBQUVpQyxRQUE0QjtRQUN2RCxNQUFNdkMsdURBQVNBO1FBQ2YsTUFBTUUsd0RBQWFBLENBQUN5QyxnQkFBZ0IsQ0FBQztZQUFFckM7UUFBTyxHQUFHaUM7SUFDbkQ7SUFFQSxNQUFNSyxRQUFPdEMsTUFBYztRQUN6QixNQUFNTix1REFBU0E7UUFDZixNQUFNRSx3REFBYUEsQ0FBQzJDLFNBQVMsQ0FBQztZQUFFdkM7UUFBTztRQUN2QyxNQUFNRixPQUFPOEIsYUFBYSxDQUFDNUIsUUFBUTtJQUNyQztBQUNGLEVBQUU7QUFFRixpQkFBaUI7QUFDVixNQUFNd0MsUUFBUTtJQUNuQixNQUFNeEIsUUFBT3lCLE9BT1o7UUFDQyxNQUFNL0MsdURBQVNBO1FBQ2YsTUFBTWdELE1BQU0sTUFBTTdDLG1EQUFRQSxDQUFDbUIsTUFBTSxDQUFDO1lBQ2hDLEdBQUd5QixPQUFPO1lBQ1ZuQixXQUFXLElBQUlDO1FBQ2pCO1FBQ0EsT0FBT21CLElBQUk5QixRQUFRO0lBQ3JCO0lBRUEsTUFBTWUsVUFBU2QsRUFBVTtRQUN2QixNQUFNbkIsdURBQVNBO1FBQ2YsTUFBTWdELE1BQU0sTUFBTTdDLG1EQUFRQSxDQUFDOEIsUUFBUSxDQUFDZDtRQUNwQyxPQUFPNkIsTUFBTUEsSUFBSTlCLFFBQVEsS0FBSztJQUNoQztJQUVBLE1BQU11QixjQUFhbkMsTUFBYztRQUMvQixNQUFNTix1REFBU0E7UUFDZixNQUFNaUQsT0FBTyxNQUFNOUMsbURBQVFBLENBQUMrQyxJQUFJLENBQUM7WUFBRTVDO1FBQU87UUFDMUMsT0FBTzJDLEtBQUtFLEdBQUcsQ0FBQyxDQUFDSCxNQUFRQSxJQUFJOUIsUUFBUTtJQUN2QztJQUVBLE1BQU13QixRQUFPdkIsRUFBVSxFQUFFWixJQUFtQjtRQUMxQyxNQUFNUCx1REFBU0E7UUFDZixNQUFNRyxtREFBUUEsQ0FBQ00saUJBQWlCLENBQUNVLElBQUlaO0lBQ3ZDO0FBQ0YsRUFBRTtBQUVGLCtEQUErRDtBQUN4RCxNQUFNNkMsY0FBYyxJQUFPLEVBQUMsR0FBRyIsInNvdXJjZXMiOlsid2VicGFjazovL3BkZi1zaWduYXR1cmUtc3lzdGVtLy4vbGliL2RiLnRzPzFkZjAiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gKGZ1bmdzaSB1cGRhdGVQcm9maWxlIGRpcGluZGFoa2FuIGtlIGRhbGFtIG9iamVrIHVzZXJEYiBkaSBiYXdhaClcclxuaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0anNcIjtcclxuaW1wb3J0IHsgZGJDb25uZWN0IH0gZnJvbSBcIkAvbGliL21vbmdvZGJcIjtcclxuaW1wb3J0IFVzZXJNb2RlbCwgeyBJVXNlciB9IGZyb20gXCJAL21vZGVscy9Vc2VyXCI7XHJcbmltcG9ydCBVc2VyS2V5c01vZGVsLCB7IElVc2VyS2V5cyB9IGZyb20gXCJAL21vZGVscy9Vc2VyS2V5c1wiO1xyXG5pbXBvcnQgUERGTW9kZWwsIHsgSVBERiB9IGZyb20gXCJAL21vZGVscy9QREZcIjtcclxuXHJcbi8vIFVzZXIgb3BlcmF0aW9uc1xyXG5leHBvcnQgY29uc3QgdXNlckRiID0ge1xyXG4gIGFzeW5jIHVwZGF0ZVByb2ZpbGUoXHJcbiAgICB1c2VySWQ6IHN0cmluZyxcclxuICAgIGRhdGE6IHsgbmFtZT86IHN0cmluZzsgb3JnYW5pemF0aW9uTmFtZT86IHN0cmluZzsgcG9zaXRpb24/OiBzdHJpbmcgfVxyXG4gICk6IFByb21pc2U8KElVc2VyICYgeyBpZDogc3RyaW5nIH0pIHwgbnVsbD4ge1xyXG4gICAgYXdhaXQgZGJDb25uZWN0KCk7XHJcbiAgICBjb25zdCB1c2VyRG9jID0gYXdhaXQgVXNlck1vZGVsLmZpbmRCeUlkQW5kVXBkYXRlKFxyXG4gICAgICB1c2VySWQsXHJcbiAgICAgIHtcclxuICAgICAgICAuLi4oZGF0YS5uYW1lICE9PSB1bmRlZmluZWQgPyB7IG5hbWU6IGRhdGEubmFtZSB9IDoge30pLFxyXG4gICAgICAgIC4uLihkYXRhLm9yZ2FuaXphdGlvbk5hbWUgIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgPyB7IG9yZ2FuaXphdGlvbk5hbWU6IGRhdGEub3JnYW5pemF0aW9uTmFtZSB9XHJcbiAgICAgICAgICA6IHt9KSxcclxuICAgICAgICAuLi4oZGF0YS5wb3NpdGlvbiAhPT0gdW5kZWZpbmVkID8geyBwb3NpdGlvbjogZGF0YS5wb3NpdGlvbiB9IDoge30pLFxyXG4gICAgICB9LFxyXG4gICAgICB7IG5ldzogdHJ1ZSB9XHJcbiAgICApO1xyXG4gICAgaWYgKCF1c2VyRG9jKSByZXR1cm4gbnVsbDtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIGNvbnN0IHsgcGFzc3dvcmRIYXNoOiBfLCAuLi51c2VyIH0gPSB1c2VyRG9jLnRvT2JqZWN0KCk7XHJcbiAgICByZXR1cm4geyAuLi51c2VyLCBpZDogdXNlckRvYy5faWQudG9TdHJpbmcoKSB9O1xyXG4gIH0sXHJcbiAgYXN5bmMgY3JlYXRlKHVzZXJEYXRhOiB7XHJcbiAgICBlbWFpbDogc3RyaW5nO1xyXG4gICAgcGFzc3dvcmQ6IHN0cmluZztcclxuICAgIG5hbWU6IHN0cmluZztcclxuICAgIHJvbGU6IFwib3JnYW5pemF0aW9uXCIgfCBcImNvbnN1bHRhbnRcIjtcclxuICAgIG9yZ2FuaXphdGlvbk5hbWU/OiBzdHJpbmc7XHJcbiAgICBwb3NpdGlvbj86IHN0cmluZztcclxuICB9KTogUHJvbWlzZTxPbWl0PElVc2VyLCBcInBhc3N3b3JkSGFzaFwiPiAmIHsgaWQ6IHN0cmluZyB9PiB7XHJcbiAgICBhd2FpdCBkYkNvbm5lY3QoKTtcclxuICAgIGNvbnN0IHBhc3N3b3JkSGFzaCA9IGF3YWl0IGJjcnlwdC5oYXNoKHVzZXJEYXRhLnBhc3N3b3JkLCAxMCk7XHJcbiAgICBjb25zdCB1c2VyRG9jID0gYXdhaXQgVXNlck1vZGVsLmNyZWF0ZSh7XHJcbiAgICAgIGVtYWlsOiB1c2VyRGF0YS5lbWFpbCxcclxuICAgICAgcGFzc3dvcmRIYXNoLFxyXG4gICAgICBuYW1lOiB1c2VyRGF0YS5uYW1lLFxyXG4gICAgICByb2xlOiB1c2VyRGF0YS5yb2xlLFxyXG4gICAgICBvcmdhbml6YXRpb25OYW1lOiB1c2VyRGF0YS5vcmdhbml6YXRpb25OYW1lLFxyXG4gICAgICBwb3NpdGlvbjogdXNlckRhdGEucG9zaXRpb24sXHJcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcclxuICAgICAgaGFzS2V5czogZmFsc2UsXHJcbiAgICB9KTtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIGNvbnN0IHsgcGFzc3dvcmRIYXNoOiBfLCAuLi51c2VyIH0gPSB1c2VyRG9jLnRvT2JqZWN0KCk7XHJcbiAgICByZXR1cm4geyAuLi51c2VyLCBpZDogdXNlckRvYy5faWQudG9TdHJpbmcoKSB9O1xyXG4gIH0sXHJcblxyXG4gIGFzeW5jIGZpbmRCeUVtYWlsKGVtYWlsOiBzdHJpbmcpOiBQcm9taXNlPChJVXNlciAmIHsgaWQ6IHN0cmluZyB9KSB8IG51bGw+IHtcclxuICAgIGF3YWl0IGRiQ29ubmVjdCgpO1xyXG4gICAgY29uc3QgdXNlckRvYyA9IGF3YWl0IFVzZXJNb2RlbC5maW5kT25lKHsgZW1haWwgfSk7XHJcbiAgICBpZiAoIXVzZXJEb2MpIHJldHVybiBudWxsO1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgY29uc3QgeyBwYXNzd29yZEhhc2g6IF8sIC4uLnVzZXIgfSA9IHVzZXJEb2MudG9PYmplY3QoKTtcclxuICAgIHJldHVybiB7IC4uLnVzZXIsIGlkOiB1c2VyRG9jLl9pZC50b1N0cmluZygpIH07XHJcbiAgfSxcclxuXHJcbiAgYXN5bmMgZmluZEJ5SWQoaWQ6IHN0cmluZyk6IFByb21pc2U8KElVc2VyICYgeyBpZDogc3RyaW5nIH0pIHwgbnVsbD4ge1xyXG4gICAgYXdhaXQgZGJDb25uZWN0KCk7XHJcbiAgICBjb25zdCB1c2VyRG9jID0gYXdhaXQgVXNlck1vZGVsLmZpbmRCeUlkKGlkKTtcclxuICAgIGlmICghdXNlckRvYykgcmV0dXJuIG51bGw7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBjb25zdCB7IHBhc3N3b3JkSGFzaDogXywgLi4udXNlciB9ID0gdXNlckRvYy50b09iamVjdCgpO1xyXG4gICAgcmV0dXJuIHsgLi4udXNlciwgaWQ6IHVzZXJEb2MuX2lkLnRvU3RyaW5nKCkgfTtcclxuICB9LFxyXG5cclxuICBhc3luYyB1cGRhdGVIYXNLZXlzKHVzZXJJZDogc3RyaW5nLCBoYXNLZXlzOiBib29sZWFuKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBhd2FpdCBkYkNvbm5lY3QoKTtcclxuICAgIGF3YWl0IFVzZXJNb2RlbC5maW5kQnlJZEFuZFVwZGF0ZSh1c2VySWQsIHsgaGFzS2V5cyB9KTtcclxuICB9LFxyXG5cclxuICBhc3luYyB2ZXJpZnlQYXNzd29yZChcclxuICAgIGVtYWlsOiBzdHJpbmcsXHJcbiAgICBwYXNzd29yZDogc3RyaW5nXHJcbiAgKTogUHJvbWlzZTwoSVVzZXIgJiB7IGlkOiBzdHJpbmcgfSkgfCBudWxsPiB7XHJcbiAgICBhd2FpdCBkYkNvbm5lY3QoKTtcclxuICAgIGNvbnN0IHVzZXJEb2MgPSBhd2FpdCBVc2VyTW9kZWwuZmluZE9uZSh7IGVtYWlsIH0pO1xyXG4gICAgaWYgKCF1c2VyRG9jKSByZXR1cm4gbnVsbDtcclxuICAgIGNvbnN0IGlzVmFsaWQgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgdXNlckRvYy5wYXNzd29yZEhhc2gpO1xyXG4gICAgaWYgKCFpc1ZhbGlkKSByZXR1cm4gbnVsbDtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIGNvbnN0IHsgcGFzc3dvcmRIYXNoOiBfLCAuLi51c2VyIH0gPSB1c2VyRG9jLnRvT2JqZWN0KCk7XHJcbiAgICByZXR1cm4geyAuLi51c2VyLCBpZDogdXNlckRvYy5faWQudG9TdHJpbmcoKSB9O1xyXG4gIH0sXHJcbn07XHJcblxyXG4vLyBVc2VyIGtleXMgb3BlcmF0aW9uc1xyXG5leHBvcnQgY29uc3QgdXNlcktleXNEYiA9IHtcclxuICBhc3luYyBjcmVhdGUoa2V5c0RhdGE6IHtcclxuICAgIHVzZXJJZDogc3RyaW5nO1xyXG4gICAgcHVibGljS2V5OiBzdHJpbmc7XHJcbiAgICBwcml2YXRlS2V5RW5jcnlwdGVkOiBzdHJpbmc7XHJcbiAgICBjZXJ0aWZpY2F0ZTogc3RyaW5nO1xyXG4gIH0pOiBQcm9taXNlPElVc2VyS2V5cz4ge1xyXG4gICAgYXdhaXQgZGJDb25uZWN0KCk7XHJcbiAgICBjb25zdCBrZXlzID0gYXdhaXQgVXNlcktleXNNb2RlbC5jcmVhdGUoe1xyXG4gICAgICAuLi5rZXlzRGF0YSxcclxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgfSk7XHJcbiAgICBhd2FpdCB1c2VyRGIudXBkYXRlSGFzS2V5cyhrZXlzRGF0YS51c2VySWQsIHRydWUpO1xyXG4gICAgcmV0dXJuIGtleXMudG9PYmplY3QoKTtcclxuICB9LFxyXG5cclxuICBhc3luYyBmaW5kQnlVc2VySWQodXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPElVc2VyS2V5cyB8IG51bGw+IHtcclxuICAgIGF3YWl0IGRiQ29ubmVjdCgpO1xyXG4gICAgY29uc3Qga2V5cyA9IGF3YWl0IFVzZXJLZXlzTW9kZWwuZmluZE9uZSh7IHVzZXJJZCB9KTtcclxuICAgIHJldHVybiBrZXlzID8ga2V5cy50b09iamVjdCgpIDogbnVsbDtcclxuICB9LFxyXG5cclxuICBhc3luYyB1cGRhdGUodXNlcklkOiBzdHJpbmcsIGtleXNEYXRhOiBQYXJ0aWFsPElVc2VyS2V5cz4pOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGF3YWl0IGRiQ29ubmVjdCgpO1xyXG4gICAgYXdhaXQgVXNlcktleXNNb2RlbC5maW5kT25lQW5kVXBkYXRlKHsgdXNlcklkIH0sIGtleXNEYXRhKTtcclxuICB9LFxyXG5cclxuICBhc3luYyBkZWxldGUodXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGF3YWl0IGRiQ29ubmVjdCgpO1xyXG4gICAgYXdhaXQgVXNlcktleXNNb2RlbC5kZWxldGVPbmUoeyB1c2VySWQgfSk7XHJcbiAgICBhd2FpdCB1c2VyRGIudXBkYXRlSGFzS2V5cyh1c2VySWQsIGZhbHNlKTtcclxuICB9LFxyXG59O1xyXG5cclxuLy8gUERGIG9wZXJhdGlvbnNcclxuZXhwb3J0IGNvbnN0IHBkZkRiID0ge1xyXG4gIGFzeW5jIGNyZWF0ZShwZGZEYXRhOiB7XHJcbiAgICBuYW1lOiBzdHJpbmc7XHJcbiAgICB1c2VySWQ6IHN0cmluZztcclxuICAgIGNvbnRlbnQ6IEJ1ZmZlcjtcclxuICAgIHNpZ25lZDogYm9vbGVhbjtcclxuICAgIHNpZ25lZEJ5Pzogc3RyaW5nO1xyXG4gICAgc2lnbmVkQXQ/OiBEYXRlO1xyXG4gIH0pOiBQcm9taXNlPElQREY+IHtcclxuICAgIGF3YWl0IGRiQ29ubmVjdCgpO1xyXG4gICAgY29uc3QgcGRmID0gYXdhaXQgUERGTW9kZWwuY3JlYXRlKHtcclxuICAgICAgLi4ucGRmRGF0YSxcclxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gcGRmLnRvT2JqZWN0KCk7XHJcbiAgfSxcclxuXHJcbiAgYXN5bmMgZmluZEJ5SWQoaWQ6IHN0cmluZyk6IFByb21pc2U8SVBERiB8IG51bGw+IHtcclxuICAgIGF3YWl0IGRiQ29ubmVjdCgpO1xyXG4gICAgY29uc3QgcGRmID0gYXdhaXQgUERGTW9kZWwuZmluZEJ5SWQoaWQpO1xyXG4gICAgcmV0dXJuIHBkZiA/IHBkZi50b09iamVjdCgpIDogbnVsbDtcclxuICB9LFxyXG5cclxuICBhc3luYyBmaW5kQnlVc2VySWQodXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPElQREZbXT4ge1xyXG4gICAgYXdhaXQgZGJDb25uZWN0KCk7XHJcbiAgICBjb25zdCBwZGZzID0gYXdhaXQgUERGTW9kZWwuZmluZCh7IHVzZXJJZCB9KTtcclxuICAgIHJldHVybiBwZGZzLm1hcCgocGRmKSA9PiBwZGYudG9PYmplY3QoKSk7XHJcbiAgfSxcclxuXHJcbiAgYXN5bmMgdXBkYXRlKGlkOiBzdHJpbmcsIGRhdGE6IFBhcnRpYWw8SVBERj4pOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGF3YWl0IGRiQ29ubmVjdCgpO1xyXG4gICAgYXdhaXQgUERGTW9kZWwuZmluZEJ5SWRBbmRVcGRhdGUoaWQsIGRhdGEpO1xyXG4gIH0sXHJcbn07XHJcblxyXG4vLyBFeHBvcnQgZm9yIHRlc3RpbmcvZGVidWdnaW5nIChvcHRpb25hbCwgbm93IHJldHVybnMgbm90aGluZylcclxuZXhwb3J0IGNvbnN0IGdldERhdGFiYXNlID0gKCkgPT4gKHt9KTtcclxuIl0sIm5hbWVzIjpbImJjcnlwdCIsImRiQ29ubmVjdCIsIlVzZXJNb2RlbCIsIlVzZXJLZXlzTW9kZWwiLCJQREZNb2RlbCIsInVzZXJEYiIsInVwZGF0ZVByb2ZpbGUiLCJ1c2VySWQiLCJkYXRhIiwidXNlckRvYyIsImZpbmRCeUlkQW5kVXBkYXRlIiwibmFtZSIsInVuZGVmaW5lZCIsIm9yZ2FuaXphdGlvbk5hbWUiLCJwb3NpdGlvbiIsIm5ldyIsInBhc3N3b3JkSGFzaCIsIl8iLCJ1c2VyIiwidG9PYmplY3QiLCJpZCIsIl9pZCIsInRvU3RyaW5nIiwiY3JlYXRlIiwidXNlckRhdGEiLCJoYXNoIiwicGFzc3dvcmQiLCJlbWFpbCIsInJvbGUiLCJjcmVhdGVkQXQiLCJEYXRlIiwiaGFzS2V5cyIsImZpbmRCeUVtYWlsIiwiZmluZE9uZSIsImZpbmRCeUlkIiwidXBkYXRlSGFzS2V5cyIsInZlcmlmeVBhc3N3b3JkIiwiaXNWYWxpZCIsImNvbXBhcmUiLCJ1c2VyS2V5c0RiIiwia2V5c0RhdGEiLCJrZXlzIiwiZmluZEJ5VXNlcklkIiwidXBkYXRlIiwiZmluZE9uZUFuZFVwZGF0ZSIsImRlbGV0ZSIsImRlbGV0ZU9uZSIsInBkZkRiIiwicGRmRGF0YSIsInBkZiIsInBkZnMiLCJmaW5kIiwibWFwIiwiZ2V0RGF0YWJhc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.ts\n");

/***/ }),

/***/ "(rsc)/./lib/mongodb.ts":
/*!************************!*\
  !*** ./lib/mongodb.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   dbConnect: () => (/* binding */ dbConnect)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGODB_URI = process.env.MONGODB_URI || \"mongodb://localhost:27017/pdfsign\";\nif (!MONGODB_URI) {\n    throw new Error(\"Please define the MONGODB_URI environment variable inside .env.local\");\n}\nlet cached = global.mongoose;\nif (!cached) {\n    cached = global.mongoose = {\n        conn: null,\n        promise: null\n    };\n}\nasync function dbConnect() {\n    if (cached.conn) {\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI, {\n            bufferCommands: false\n        }).then((mongoose)=>{\n            return mongoose;\n        });\n    }\n    cached.conn = await cached.promise;\n    return cached.conn;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvbW9uZ29kYi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0M7QUFFaEMsTUFBTUMsY0FDSkMsUUFBUUMsR0FBRyxDQUFDRixXQUFXLElBQUk7QUFFN0IsSUFBSSxDQUFDQSxhQUFhO0lBQ2hCLE1BQU0sSUFBSUcsTUFDUjtBQUVKO0FBRUEsSUFBSUMsU0FBUyxPQUFnQkwsUUFBUTtBQUVyQyxJQUFJLENBQUNLLFFBQVE7SUFDWEEsU0FBUyxPQUFnQkwsUUFBUSxHQUFHO1FBQUVPLE1BQU07UUFBTUMsU0FBUztJQUFLO0FBQ2xFO0FBRU8sZUFBZUM7SUFDcEIsSUFBSUosT0FBT0UsSUFBSSxFQUFFO1FBQ2YsT0FBT0YsT0FBT0UsSUFBSTtJQUNwQjtJQUNBLElBQUksQ0FBQ0YsT0FBT0csT0FBTyxFQUFFO1FBQ25CSCxPQUFPRyxPQUFPLEdBQUdSLHVEQUNQLENBQUNDLGFBQWE7WUFDcEJVLGdCQUFnQjtRQUNsQixHQUNDQyxJQUFJLENBQUMsQ0FBQ1o7WUFDTCxPQUFPQTtRQUNUO0lBQ0o7SUFDQUssT0FBT0UsSUFBSSxHQUFHLE1BQU1GLE9BQU9HLE9BQU87SUFDbEMsT0FBT0gsT0FBT0UsSUFBSTtBQUNwQiIsInNvdXJjZXMiOlsid2VicGFjazovL3BkZi1zaWduYXR1cmUtc3lzdGVtLy4vbGliL21vbmdvZGIudHM/MDViZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCBNT05HT0RCX1VSSSA9XHJcbiAgcHJvY2Vzcy5lbnYuTU9OR09EQl9VUkkgfHwgXCJtb25nb2RiOi8vbG9jYWxob3N0OjI3MDE3L3BkZnNpZ25cIjtcclxuXHJcbmlmICghTU9OR09EQl9VUkkpIHtcclxuICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICBcIlBsZWFzZSBkZWZpbmUgdGhlIE1PTkdPREJfVVJJIGVudmlyb25tZW50IHZhcmlhYmxlIGluc2lkZSAuZW52LmxvY2FsXCJcclxuICApO1xyXG59XHJcblxyXG5sZXQgY2FjaGVkID0gKGdsb2JhbCBhcyBhbnkpLm1vbmdvb3NlO1xyXG5cclxuaWYgKCFjYWNoZWQpIHtcclxuICBjYWNoZWQgPSAoZ2xvYmFsIGFzIGFueSkubW9uZ29vc2UgPSB7IGNvbm46IG51bGwsIHByb21pc2U6IG51bGwgfTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRiQ29ubmVjdCgpIHtcclxuICBpZiAoY2FjaGVkLmNvbm4pIHtcclxuICAgIHJldHVybiBjYWNoZWQuY29ubjtcclxuICB9XHJcbiAgaWYgKCFjYWNoZWQucHJvbWlzZSkge1xyXG4gICAgY2FjaGVkLnByb21pc2UgPSBtb25nb29zZVxyXG4gICAgICAuY29ubmVjdChNT05HT0RCX1VSSSwge1xyXG4gICAgICAgIGJ1ZmZlckNvbW1hbmRzOiBmYWxzZSxcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oKG1vbmdvb3NlKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIG1vbmdvb3NlO1xyXG4gICAgICB9KTtcclxuICB9XHJcbiAgY2FjaGVkLmNvbm4gPSBhd2FpdCBjYWNoZWQucHJvbWlzZTtcclxuICByZXR1cm4gY2FjaGVkLmNvbm47XHJcbn1cclxuIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiTU9OR09EQl9VUkkiLCJwcm9jZXNzIiwiZW52IiwiRXJyb3IiLCJjYWNoZWQiLCJnbG9iYWwiLCJjb25uIiwicHJvbWlzZSIsImRiQ29ubmVjdCIsImNvbm5lY3QiLCJidWZmZXJDb21tYW5kcyIsInRoZW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/mongodb.ts\n");

/***/ }),

/***/ "(rsc)/./models/PDF.ts":
/*!***********************!*\
  !*** ./models/PDF.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst PDFSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    name: {\n        type: String,\n        required: true\n    },\n    userId: {\n        type: String,\n        required: true\n    },\n    content: {\n        type: Buffer,\n        required: true\n    },\n    signed: {\n        type: Boolean,\n        default: false\n    },\n    signedBy: {\n        type: String\n    },\n    signedAt: {\n        type: Date\n    },\n    createdAt: {\n        type: Date,\n        default: Date.now\n    }\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).PDF || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"PDF\", PDFSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9tb2RlbHMvUERGLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFzRDtBQVl0RCxNQUFNRSxZQUFZLElBQUlELDRDQUFNQSxDQUFPO0lBQ2pDRSxNQUFNO1FBQUVDLE1BQU1DO1FBQVFDLFVBQVU7SUFBSztJQUNyQ0MsUUFBUTtRQUFFSCxNQUFNQztRQUFRQyxVQUFVO0lBQUs7SUFDdkNFLFNBQVM7UUFBRUosTUFBTUs7UUFBUUgsVUFBVTtJQUFLO0lBQ3hDSSxRQUFRO1FBQUVOLE1BQU1PO1FBQVNDLFNBQVM7SUFBTTtJQUN4Q0MsVUFBVTtRQUFFVCxNQUFNQztJQUFPO0lBQ3pCUyxVQUFVO1FBQUVWLE1BQU1XO0lBQUs7SUFDdkJDLFdBQVc7UUFBRVosTUFBTVc7UUFBTUgsU0FBU0csS0FBS0UsR0FBRztJQUFDO0FBQzdDO0FBRUEsaUVBQWVqQix3REFBZSxDQUFDbUIsR0FBRyxJQUFJbkIscURBQWMsQ0FBTyxPQUFPRSxVQUFVQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGRmLXNpZ25hdHVyZS1zeXN0ZW0vLi9tb2RlbHMvUERGLnRzPzUxNTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLCB7IFNjaGVtYSwgRG9jdW1lbnQgfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVBERiBleHRlbmRzIERvY3VtZW50IHtcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgdXNlcklkOiBzdHJpbmc7XHJcbiAgY29udGVudDogQnVmZmVyO1xyXG4gIHNpZ25lZDogYm9vbGVhbjtcclxuICBzaWduZWRCeT86IHN0cmluZztcclxuICBzaWduZWRBdD86IERhdGU7XHJcbiAgY3JlYXRlZEF0OiBEYXRlO1xyXG59XHJcblxyXG5jb25zdCBQREZTY2hlbWEgPSBuZXcgU2NoZW1hPElQREY+KHtcclxuICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICB1c2VySWQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIGNvbnRlbnQ6IHsgdHlwZTogQnVmZmVyLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIHNpZ25lZDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LFxyXG4gIHNpZ25lZEJ5OiB7IHR5cGU6IFN0cmluZyB9LFxyXG4gIHNpZ25lZEF0OiB7IHR5cGU6IERhdGUgfSxcclxuICBjcmVhdGVkQXQ6IHsgdHlwZTogRGF0ZSwgZGVmYXVsdDogRGF0ZS5ub3cgfSxcclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBtb25nb29zZS5tb2RlbHMuUERGIHx8IG1vbmdvb3NlLm1vZGVsPElQREY+KFwiUERGXCIsIFBERlNjaGVtYSk7XHJcbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsIlNjaGVtYSIsIlBERlNjaGVtYSIsIm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJ1c2VySWQiLCJjb250ZW50IiwiQnVmZmVyIiwic2lnbmVkIiwiQm9vbGVhbiIsImRlZmF1bHQiLCJzaWduZWRCeSIsInNpZ25lZEF0IiwiRGF0ZSIsImNyZWF0ZWRBdCIsIm5vdyIsIm1vZGVscyIsIlBERiIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./models/PDF.ts\n");

/***/ }),

/***/ "(rsc)/./models/User.ts":
/*!************************!*\
  !*** ./models/User.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst UserSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    email: {\n        type: String,\n        required: true,\n        unique: true\n    },\n    passwordHash: {\n        type: String,\n        required: true\n    },\n    name: {\n        type: String,\n        required: true\n    },\n    role: {\n        type: String,\n        enum: [\n            \"organization\",\n            \"consultant\"\n        ],\n        required: true\n    },\n    organizationName: {\n        type: String\n    },\n    position: {\n        type: String\n    },\n    createdAt: {\n        type: Date,\n        default: Date.now\n    },\n    hasKeys: {\n        type: Boolean,\n        default: false\n    }\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).User || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"User\", UserSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9tb2RlbHMvVXNlci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBc0Q7QUFhdEQsTUFBTUUsYUFBYSxJQUFJRCw0Q0FBTUEsQ0FBUTtJQUNuQ0UsT0FBTztRQUFFQyxNQUFNQztRQUFRQyxVQUFVO1FBQU1DLFFBQVE7SUFBSztJQUNwREMsY0FBYztRQUFFSixNQUFNQztRQUFRQyxVQUFVO0lBQUs7SUFDN0NHLE1BQU07UUFBRUwsTUFBTUM7UUFBUUMsVUFBVTtJQUFLO0lBQ3JDSSxNQUFNO1FBQUVOLE1BQU1DO1FBQVFNLE1BQU07WUFBQztZQUFnQjtTQUFhO1FBQUVMLFVBQVU7SUFBSztJQUMzRU0sa0JBQWtCO1FBQUVSLE1BQU1DO0lBQU87SUFDakNRLFVBQVU7UUFBRVQsTUFBTUM7SUFBTztJQUN6QlMsV0FBVztRQUFFVixNQUFNVztRQUFNQyxTQUFTRCxLQUFLRSxHQUFHO0lBQUM7SUFDM0NDLFNBQVM7UUFBRWQsTUFBTWU7UUFBU0gsU0FBUztJQUFNO0FBQzNDO0FBRUEsaUVBQWVoQix3REFBZSxDQUFDcUIsSUFBSSxJQUNqQ3JCLHFEQUFjLENBQVEsUUFBUUUsV0FBV0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3BkZi1zaWduYXR1cmUtc3lzdGVtLy4vbW9kZWxzL1VzZXIudHM/NmRjNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UsIHsgU2NoZW1hLCBEb2N1bWVudCB9IGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJVXNlciBleHRlbmRzIERvY3VtZW50IHtcclxuICBlbWFpbDogc3RyaW5nO1xyXG4gIHBhc3N3b3JkSGFzaDogc3RyaW5nO1xyXG4gIG5hbWU6IHN0cmluZztcclxuICByb2xlOiBcIm9yZ2FuaXphdGlvblwiIHwgXCJjb25zdWx0YW50XCI7XHJcbiAgb3JnYW5pemF0aW9uTmFtZT86IHN0cmluZztcclxuICBwb3NpdGlvbj86IHN0cmluZzsgLy8gamFiYXRhblxyXG4gIGNyZWF0ZWRBdDogRGF0ZTtcclxuICBoYXNLZXlzOiBib29sZWFuO1xyXG59XHJcblxyXG5jb25zdCBVc2VyU2NoZW1hID0gbmV3IFNjaGVtYTxJVXNlcj4oe1xyXG4gIGVtYWlsOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIHVuaXF1ZTogdHJ1ZSB9LFxyXG4gIHBhc3N3b3JkSGFzaDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgcm9sZTogeyB0eXBlOiBTdHJpbmcsIGVudW06IFtcIm9yZ2FuaXphdGlvblwiLCBcImNvbnN1bHRhbnRcIl0sIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgb3JnYW5pemF0aW9uTmFtZTogeyB0eXBlOiBTdHJpbmcgfSxcclxuICBwb3NpdGlvbjogeyB0eXBlOiBTdHJpbmcgfSxcclxuICBjcmVhdGVkQXQ6IHsgdHlwZTogRGF0ZSwgZGVmYXVsdDogRGF0ZS5ub3cgfSxcclxuICBoYXNLZXlzOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sXHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UubW9kZWxzLlVzZXIgfHxcclxuICBtb25nb29zZS5tb2RlbDxJVXNlcj4oXCJVc2VyXCIsIFVzZXJTY2hlbWEpO1xyXG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJTY2hlbWEiLCJVc2VyU2NoZW1hIiwiZW1haWwiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJ1bmlxdWUiLCJwYXNzd29yZEhhc2giLCJuYW1lIiwicm9sZSIsImVudW0iLCJvcmdhbml6YXRpb25OYW1lIiwicG9zaXRpb24iLCJjcmVhdGVkQXQiLCJEYXRlIiwiZGVmYXVsdCIsIm5vdyIsImhhc0tleXMiLCJCb29sZWFuIiwibW9kZWxzIiwiVXNlciIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./models/User.ts\n");

/***/ }),

/***/ "(rsc)/./models/UserKeys.ts":
/*!****************************!*\
  !*** ./models/UserKeys.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst UserKeysSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    userId: {\n        type: String,\n        required: true,\n        unique: true\n    },\n    publicKey: {\n        type: String,\n        required: true\n    },\n    privateKeyEncrypted: {\n        type: String,\n        required: true\n    },\n    certificate: {\n        type: String,\n        required: true\n    },\n    createdAt: {\n        type: Date,\n        default: Date.now\n    }\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).UserKeys || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"UserKeys\", UserKeysSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9tb2RlbHMvVXNlcktleXMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXNEO0FBVXRELE1BQU1FLGlCQUFpQixJQUFJRCw0Q0FBTUEsQ0FBWTtJQUMzQ0UsUUFBUTtRQUFFQyxNQUFNQztRQUFRQyxVQUFVO1FBQU1DLFFBQVE7SUFBSztJQUNyREMsV0FBVztRQUFFSixNQUFNQztRQUFRQyxVQUFVO0lBQUs7SUFDMUNHLHFCQUFxQjtRQUFFTCxNQUFNQztRQUFRQyxVQUFVO0lBQUs7SUFDcERJLGFBQWE7UUFBRU4sTUFBTUM7UUFBUUMsVUFBVTtJQUFLO0lBQzVDSyxXQUFXO1FBQUVQLE1BQU1RO1FBQU1DLFNBQVNELEtBQUtFLEdBQUc7SUFBQztBQUM3QztBQUVBLGlFQUFlZCx3REFBZSxDQUFDZ0IsUUFBUSxJQUNyQ2hCLHFEQUFjLENBQVksWUFBWUUsZUFBZUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3BkZi1zaWduYXR1cmUtc3lzdGVtLy4vbW9kZWxzL1VzZXJLZXlzLnRzPzUyOTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLCB7IFNjaGVtYSwgRG9jdW1lbnQgfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVVzZXJLZXlzIGV4dGVuZHMgRG9jdW1lbnQge1xyXG4gIHVzZXJJZDogc3RyaW5nO1xyXG4gIHB1YmxpY0tleTogc3RyaW5nO1xyXG4gIHByaXZhdGVLZXlFbmNyeXB0ZWQ6IHN0cmluZztcclxuICBjZXJ0aWZpY2F0ZTogc3RyaW5nO1xyXG4gIGNyZWF0ZWRBdDogRGF0ZTtcclxufVxyXG5cclxuY29uc3QgVXNlcktleXNTY2hlbWEgPSBuZXcgU2NoZW1hPElVc2VyS2V5cz4oe1xyXG4gIHVzZXJJZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlLCB1bmlxdWU6IHRydWUgfSxcclxuICBwdWJsaWNLZXk6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIHByaXZhdGVLZXlFbmNyeXB0ZWQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIGNlcnRpZmljYXRlOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBjcmVhdGVkQXQ6IHsgdHlwZTogRGF0ZSwgZGVmYXVsdDogRGF0ZS5ub3cgfSxcclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBtb25nb29zZS5tb2RlbHMuVXNlcktleXMgfHxcclxuICBtb25nb29zZS5tb2RlbDxJVXNlcktleXM+KFwiVXNlcktleXNcIiwgVXNlcktleXNTY2hlbWEpO1xyXG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJTY2hlbWEiLCJVc2VyS2V5c1NjaGVtYSIsInVzZXJJZCIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsInVuaXF1ZSIsInB1YmxpY0tleSIsInByaXZhdGVLZXlFbmNyeXB0ZWQiLCJjZXJ0aWZpY2F0ZSIsImNyZWF0ZWRBdCIsIkRhdGUiLCJkZWZhdWx0Iiwibm93IiwibW9kZWxzIiwiVXNlcktleXMiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./models/UserKeys.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/jsonwebtoken","vendor-chunks/lodash.includes","vendor-chunks/jws","vendor-chunks/lodash.once","vendor-chunks/jwa","vendor-chunks/lodash.isinteger","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/lodash.isplainobject","vendor-chunks/ms","vendor-chunks/lodash.isstring","vendor-chunks/lodash.isnumber","vendor-chunks/lodash.isboolean","vendor-chunks/safe-buffer","vendor-chunks/buffer-equal-constant-time","vendor-chunks/zod","vendor-chunks/bcryptjs"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fregister%2Froute&page=%2Fapi%2Fauth%2Fregister%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fregister%2Froute.ts&appDir=D%3A%5CCoolyeah%5Csemester5%5CKeamanan%20Informasi%5CTugas3%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CCoolyeah%5Csemester5%5CKeamanan%20Informasi%5CTugas3&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();